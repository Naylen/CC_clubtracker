# =============================================================================
# MCFGC Club Manager — Environment Variables
# =============================================================================
# Copy this file to .env.local (development) or use setup.sh (production).
# For production, run: ./setup.sh — it auto-generates secrets and writes
# .env.production for you.
# =============================================================================

# ── Domain ───────────────────────────────────────────────────────────────────
# Your public-facing domain. Used to derive BETTER_AUTH_URL and email from
# addresses. In development, leave blank — defaults to localhost:3001.
# In production, set to your Cloudflare Tunnel domain (e.g. club.mcfgcinc.com).
APP_DOMAIN=

# ── Database ─────────────────────────────────────────────────────────────────
# Dev: docker-compose.yml uses these defaults automatically.
# Prod: setup.sh generates DB_PASSWORD; docker-compose.prod.yml builds DATABASE_URL.
DATABASE_URL=postgresql://mcfgc:mcfgc_dev@db:5432/mcfgc
DB_USER=mcfgc
DB_PASSWORD=mcfgc_dev
DB_NAME=mcfgc

# ── Better Auth ──────────────────────────────────────────────────────────────
# Session signing secret (≥ 32 random chars). Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=

# App base URL (server-side). Derived from APP_DOMAIN in production.
BETTER_AUTH_URL=http://localhost:3001

# App base URL (client-side, NEXT_PUBLIC_ prefix required)
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3001

# ── Encryption ───────────────────────────────────────────────────────────────
# AES-256-GCM key for sensitive data at rest (64-char hex = 32 bytes).
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=

# ── Admin Seed ───────────────────────────────────────────────────────────────
# Initial admin credentials — used on first startup only to seed the database.
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=changeme123
ADMIN_NAME=Club Administrator

# ── Stripe (required for payments) ───────────────────────────────────────────
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ── Resend (optional — email provider) ───────────────────────────────────────
# Get key from: https://resend.com/api-keys
RESEND_API_KEY=re_...

# ── Gmail SMTP (optional — email provider) ───────────────────────────────────
# Requires 2-Step Verification + App Password.
# Setup: Google Account → Security → 2-Step Verification → App passwords
GMAIL_USER=
GMAIL_APP_PASSWORD=

# ── Inngest (optional — background jobs) ─────────────────────────────────────
INNGEST_SIGNING_KEY=

# ── Google Drive Backup (optional — daily automated backups) ─────────────────
# 1. Go to Google Cloud Console → Create project → Enable Google Drive API
# 2. Create Service Account → Download JSON key
# 3. Base64-encode the JSON key: base64 -i key.json | tr -d '\n'
# 4. Create a Google Drive folder → Share with service account email (Editor)
# 5. Copy the folder ID from the URL
GOOGLE_SERVICE_ACCOUNT_KEY=
GOOGLE_DRIVE_FOLDER_ID=

# ── App Port ─────────────────────────────────────────────────────────────────
# Port exposed on the host. Cloudflare Tunnel points here in production.
APP_PORT=3001
